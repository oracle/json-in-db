<html xmlns:ns0="http://macVmlSchemaUri">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 12 (filtered)">
<title>Oracle XML DB HOL Manual</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"Univers LT Std 57 Cn";}
@font-face
	{font-family:Times;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;
	font-style:italic;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:13.5pt;
	font-family:"Times New Roman","serif";
	color:black;
	font-weight:bold;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;
	font-weight:bold;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";
	color:#336699;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:12.0pt;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:24.0pt;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	color:black;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
code
	{font-family:"Courier New";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";
	color:black;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	color:black;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
span.MsoIntenseEmphasis
	{color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.MsoIntenseReference
	{font-variant:small-caps;
	color:#C0504D;
	letter-spacing:.25pt;
	font-weight:bold;
	text-decoration:underline;}
span.MsoBookTitle
	{font-variant:small-caps;
	letter-spacing:.25pt;
	font-weight:bold;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:Consolas;
	color:black;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;
	font-family:"MS Mincho";
	color:black;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;
	font-family:"MS Mincho";
	color:black;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Cambria","serif";
	color:black;
	font-weight:bold;}
p.style1, li.style1, div.style1
	{mso-style-name:style1;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;
	font-weight:bold;}
p.style6, li.style6, div.style6
	{mso-style-name:style6;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Courier New";
	color:black;}
p.bodylink, li.bodylink, div.bodylink
	{mso-style-name:bodylink;
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
span.bodycopyChar
	{mso-style-name:"bodycopy Char";
	mso-style-link:bodycopy;
	font-family:"Arial","sans-serif";
	color:black;}
p.bodycopy, li.bodycopy, div.bodycopy
	{mso-style-name:bodycopy;
	mso-style-link:"bodycopy Char";
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.boldbodycopy, li.boldbodycopy, div.boldbodycopy
	{mso-style-name:boldbodycopy;
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;}
p.boldbodycopy2, li.boldbodycopy2, div.boldbodycopy2
	{mso-style-name:boldbodycopy2;
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:#999999;
	font-weight:bold;}
p.boldbodycopy3, li.boldbodycopy3, div.boldbodycopy3
	{mso-style-name:boldbodycopy3;
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:#666666;
	font-weight:bold;}
p.boldbodylink, li.boldbodylink, div.boldbodylink
	{mso-style-name:boldbodylink;
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;}
p.italicbodycopy, li.italicbodycopy, div.italicbodycopy
	{mso-style-name:italicbodycopy;
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-style:italic;}
p.legalese, li.legalese, div.legalese
	{mso-style-name:legalese;
	margin-right:0in;
	margin-left:0in;
	font-size:7.5pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.navhead, li.navhead, div.navhead
	{mso-style-name:navhead;
	margin-right:0in;
	margin-left:0in;
	font-size:8.5pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;
	font-style:italic;}
p.navheader, li.navheader, div.navheader
	{mso-style-name:navheader;
	margin-right:0in;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";
	color:#336699;
	font-weight:bold;}
p.navlink, li.navlink, div.navlink
	{mso-style-name:navlink;
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.parahead1, li.parahead1, div.parahead1
	{mso-style-name:parahead1;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;}
p.parahead1itali, li.parahead1itali, div.parahead1itali
	{mso-style-name:parahead1itali;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;
	font-style:italic;}
p.parahead2, li.parahead2, div.parahead2
	{mso-style-name:parahead2;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	color:#666666;
	font-weight:bold;}
p.parahead2itali, li.parahead2itali, div.parahead2itali
	{mso-style-name:parahead2itali;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	color:#666666;
	font-weight:bold;
	font-style:italic;}
p.portlettitle, li.portlettitle, div.portlettitle
	{mso-style-name:portlettitle;
	margin-right:0in;
	margin-left:0in;
	font-size:8.5pt;
	font-family:"Arial","sans-serif";
	color:white;
	font-weight:bold;}
p.profile, li.profile, div.profile
	{mso-style-name:profile;
	margin-right:0in;
	margin-left:0in;
	font-size:7.5pt;
	font-family:"Arial","sans-serif";
	color:white;}
p.tablink, li.tablink, div.tablink
	{mso-style-name:tablink;
	margin-right:0in;
	margin-left:0in;
	font-size:8.5pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.texta, li.texta, div.texta
	{mso-style-name:texta;
	margin-right:0in;
	margin-left:0in;
	line-height:10.5pt;
	font-size:7.5pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.textb, li.textb, div.textb
	{mso-style-name:textb;
	margin-right:0in;
	margin-left:0in;
	font-size:8.5pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;}
p.textc, li.textc, div.textc
	{mso-style-name:textc;
	margin-right:0in;
	margin-left:0in;
	font-size:8.5pt;
	font-family:"Arial","sans-serif";
	color:#999999;
	font-weight:bold;}
p.topstoryhead, li.topstoryhead, div.topstoryhead
	{mso-style-name:topstoryhead;
	margin-right:0in;
	margin-left:0in;
	font-size:13.5pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;}
p.imgborder, li.imgborder, div.imgborder
	{mso-style-name:imgborder;
	margin-right:0in;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.imgborderon, li.imgborderon, div.imgborderon
	{mso-style-name:imgborder_on;
	margin-right:0in;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.imgborderoff, li.imgborderoff, div.imgborderoff
	{mso-style-name:imgborder_off;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.style1bodycopy, li.style1bodycopy, div.style1bodycopy
	{mso-style-name:"style1 bodycopy";
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.Hands-OnLabtitle, li.Hands-OnLabtitle, div.Hands-OnLabtitle
	{mso-style-name:"Hands-On Lab title";
	margin:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:17.0pt;
	font-family:"Univers LT Std 57 Cn";
	color:windowtext;}
p.subhead2, li.subhead2, div.subhead2
	{mso-style-name:subhead2;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:windowtext;}
span.navheader1
	{mso-style-name:navheader1;
	font-family:"Arial","sans-serif";
	color:#336699;
	font-weight:bold;}
span.style11
	{mso-style-name:style11;
	font-weight:bold;}
span.bodycopy1
	{mso-style-name:bodycopy1;
	font-family:"Arial","sans-serif";
	color:black;
	text-decoration:none none;}
span.boldbodycopy1
	{mso-style-name:boldbodycopy1;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;
	text-decoration:none none;}
span.style1bodycopy1
	{mso-style-name:"style1 bodycopy1";}
span.bodycopystyle1
	{mso-style-name:"bodycopy style1";}
span.style12
	{mso-style-name:style12;
	font-weight:bold;}
span.boldbodylink1
	{mso-style-name:boldbodylink1;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;}
span.bodylink1
	{mso-style-name:bodylink1;
	font-family:"Arial","sans-serif";
	color:black;}
span.t1
	{mso-style-name:t1;
	color:#990000;}
span.m1
	{mso-style-name:m1;
	color:blue;}
span.apple-converted-space
	{mso-style-name:apple-converted-space;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";
	color:black;}
span.elmntfixed1
	{mso-style-name:elmntfixed1;
	color:blue;}
span.elmntname1
	{mso-style-name:elmntname1;
	color:#990000;}
span.attrname1
	{mso-style-name:attrname1;
	color:#990000;}
span.attrfixed1
	{mso-style-name:attrfixed1;
	color:blue;}
span.attrvalue1
	{mso-style-name:attrvalue1;
	color:black;
	font-weight:bold;}
span.textvalue1
	{mso-style-name:textvalue1;
	color:black;
	font-weight:bold;}
span.pifixed1
	{mso-style-name:pifixed1;
	color:blue;}
span.piname1
	{mso-style-name:piname1;
	color:blue;}
span.pivalue1
	{mso-style-name:pivalue1;
	color:blue;}
span.nmspcname1
	{mso-style-name:nmspcname1;
	color:red;}
p.CodeSample, li.CodeSample, div.CodeSample
	{mso-style-name:CodeSample;
	mso-style-link:"CodeSample Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.5in;
	background:#EEECE1;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";
	color:windowtext;
	font-weight:bold;}
span.CodeSampleChar
	{mso-style-name:"CodeSample Char";
	mso-style-link:CodeSample;
	font-family:"Courier New";
	background:#EEECE1;
	font-weight:bold;}
.MsoChpDefault
	{font-size:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in .7in 1.0in .7in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:8.5in 11.0in;
	margin:1.0in .7in 1.0in .7in;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:8.5in 11.0in;
	margin:1.0in .7in 1.0in .7in;}
div.WordSection3
	{page:WordSection3;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body bgcolor=white lang=EN-US link=blue vlink=blue>

<div class=WordSection1>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>Hands-on Lab: Using Oracle
Database 12c as a JSON document store</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>Mark Drake</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>Manager, Product Management</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>Oracle XML DB &amp; JSON</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoHeader>                                                                                                                </p>

<p class=MsoNormal><b><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:#336699'>&nbsp;</span></b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal style='margin-left:103.5pt'><b>&nbsp;</b></p>

<p class=MsoNormal><b>&nbsp;</b></p>

<p class=MsoNormal align=center style='text-align:center'><b>&nbsp;</b></p>

</div>

<b><span style='font-size:10.0pt;font-family:"Arial","sans-serif";color:#336699'><br
clear=all style='page-break-before:always'>
</span></b>

<div class=WordSection2>

<p class=MsoTocHeading>Contents                                                                                                                                                       </p>

<p class=MsoToc1><a href="#_Toc401003419">Using Oracle Database 12 as a JSON document
store<span style='color:#336699;display:none;text-decoration:none'>. </span><span
style='color:#336699;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc401003420">Introduction<span style='color:black;
display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc401003421">JSON (JavaScript Object Notation)<span
style='color:black;display:none;text-decoration:none'> </span><span
style='color:black;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc401003422">JSON path language<span
style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc3><a href="#_Toc401003423">Using SQL Developer to run SQL
scripts<span style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>5</span></a></p>

<p class=MsoToc2><a href="#_Toc401003424">Initialize the Hands on Lab<span
style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>6</span></a></p>

<p class=MsoToc3><a href="#_Toc401003425">Run the reset script<span
style='color:black;display:none;text-decoration:none'> </span><span
style='color:black;display:none;text-decoration:none'>6</span></a></p>

<p class=MsoToc3><a href="#_Toc401003426">Set up SQL Developer’s connection to
the database<span style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>7</span></a></p>

<p class=MsoToc3><a href="#_Toc401003427">Set the Autotrace parameters.<span
style='color:black;display:none;text-decoration:none'> </span><span
style='color:black;display:none;text-decoration:none'>8</span></a></p>

<p class=MsoToc2><a href="#_Toc401003428">Storing JSON documents in Oracle
Database 12c<span style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>10</span></a></p>

<p class=MsoToc3><a href="#_Toc401003429">Create a simple table to store JSON
documents.<span style='color:black;display:none;text-decoration:none'> </span><span
style='color:black;display:none;text-decoration:none'>10</span></a></p>

<p class=MsoToc3><a href="#_Toc401003430">Loading JSON Documents into the
database<span style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>11</span></a></p>

<p class=MsoToc2><a href="#_Toc401003431">Accessing JSON documents stored in
Oracle Database 12c<span style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>12</span></a></p>

<p class=MsoToc3><a href="#_Toc401003432">Accessing scalar values using
JSON_VALUE<span style='color:black;display:none;text-decoration:none'>.. </span><span
style='color:black;display:none;text-decoration:none'>14</span></a></p>

<p class=MsoToc3><a href="#_Toc401003433">Accessing objects and arrays using
JSON_QUERY<span style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>18</span></a></p>

<p class=MsoToc3><a href="#_Toc401003434">Relational access to JSON content
using JSON_TABLE<span style='color:black;display:none;text-decoration:none'>.. </span><span
style='color:black;display:none;text-decoration:none'>23</span></a></p>

<p class=MsoToc3><a href="#_Toc401003435">Creating Relational views of JSON
content<span style='color:black;display:none;text-decoration:none'> </span><span
style='color:black;display:none;text-decoration:none'>25</span></a></p>

<p class=MsoToc2><a href="#_Toc401003436">Filtering result sets using
JSON_EXISTS<span style='color:black;display:none;text-decoration:none'>.. </span><span
style='color:black;display:none;text-decoration:none'>27</span></a></p>

<p class=MsoToc2><a href="#_Toc401003437">Indexing JSON documents stored in
Oracle Database 12c<span style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>29</span></a></p>

<p class=MsoToc3><a href="#_Toc401003438">Indexing scalar values using
JSON_VALUE<span style='color:black;display:none;text-decoration:none'>.. </span><span
style='color:black;display:none;text-decoration:none'>29</span></a></p>

<p class=MsoToc3><a href="#_Toc401003439">Entire Document JSON Indexing<span
style='color:black;display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>32</span></a></p>

<p class=MsoToc2><a href="#_Toc401003440">Conclusion<span style='color:black;
display:none;text-decoration:none'>. </span><span
style='color:black;display:none;text-decoration:none'>34</span></a></p>

<p class=MsoNormal></p>

</div>

<b><span style='font-size:10.0pt;font-family:"Arial","sans-serif";color:#336699'><br
clear=all style='page-break-before:always'>
</span></b>

<div class=WordSection3>

<h1><a name="_Toc401003419"></a><a name="_Toc270369451"></a><a
name="_Lesson_1:_Using"></a>Using Oracle Database 12 as a JSON document store</h1>

<h4><span style='font-size:10.0pt;font-family:"Arial","sans-serif";color:#336699'>Purpose</span></h4>

<p class=MsoNormal><a name="_Toc179617766">This Lab will walk you through the
basics of using Oracle Database as a JSON document store.  </a></p>

<h4><span style='font-size:10.0pt;font-family:"Arial","sans-serif";color:#336699'>Time
to Complete</span></h4>

<p class=MsoNormal>Approximately 60 minutes.</p>

<p class=MsoNormal><b>&nbsp;</b></p>

<h2><a name="_Toc401003420">Introduction</a></h2>

<h3><a name="_Toc401003421">JSON (JavaScript Object Notation)</a></h3>

<p class=MsoNormal>The following description of JSON is taken from the web site
<a href="http://www.json.org">http://www.json.org</a>:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:.5in'>JSON is a lightweight data-interchange
format. It is easy for humans to read and write. It is easy for machines to
parse and generate. It is based on a subset of the <a
href="http://javascript.crockford.com/"><span style='color:navy;text-decoration:
none'>JavaScript Programming Language</span></a>, <a
href="http://www.ecma-international.org/publications/files/ecma-st/ECMA-262.pdf"><span
style='color:navy;text-decoration:none'>Standard ECMA-262 3rd Edition -
December 1999</span></a>. JSON is a text format that is completely language
independent but uses conventions that are familiar to programmers of the
C-family of languages, including C, C++, C#, Java, JavaScript, Perl, Python,
and many others. These properties make JSON an ideal data-interchange language.</p>

<p class=MsoNormal style='margin-left:.5in'>JSON is built on two structures:</p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A collection of name/value pairs. In various languages, this is
realized as an <i>object</i>, record, struct, dictionary, hash table, keyed
list, or associative array.</p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>An ordered list of values. In most languages, this is realized as
an <i>array</i>, vector, list, or sequence.</p>

<p class=MsoNormal style='margin-left:.5in'>These are universal data
structures. Virtually all modern programming languages support them in one form
or another. It makes sense that a data format that is interchangeable with
programming languages also be based on these structures.</p>

<p class=MsoNormal style='margin-left:.5in'>See <a href="http://www.json.org">http://www.json.org</a>
for more details. </p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A simple JSON document representing a PurchaseOrder can be
seen below.</p>

<p class=MsoNormal style='text-autospace:none'><a name=t></a><a name=o></a><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;PONumber&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
1600</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Reference&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;ABULL-20140421&quot;</span><span style='font-size:10.0pt;font-family:
"Arial","sans-serif";color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Requestor&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;Alexis Bull&quot;</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;User&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;ABULL&quot;</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;CostCenter&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;A50&quot;</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;ShippingInstructions&quot;</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>:</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                        </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;name&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;Alexis Bull&quot;</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                        </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Address&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;street&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;200 Sporting Green&quot;</span><span style='font-size:10.0pt;font-family:
"Arial","sans-serif";color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;city&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;South San Francisco&quot;</span><span style='font-size:10.0pt;font-family:
"Arial","sans-serif";color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;state&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;CA&quot;</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;zipCode&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>99236</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;country&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;United States of America&quot;</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                        </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>},</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                        </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Phone&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>[</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;type&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;Office&quot;</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;number&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;909-555-7307&quot;</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>},</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;type&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;Mobile&quot;</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;number&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;415-555-1234&quot;</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>}</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                        </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>]</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>},</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;SpecialInstructions&quot;</span><span style='font-size:
10.0pt;font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>null</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;AllowPartialShipment&quot;</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>:</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:teal;background:white'>false</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;LineItems&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>[</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                        </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;ItemNumber&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>1</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Part&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Description&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;One Magic Christmas&quot;</span><span style='font-size:10.0pt;font-family:
"Arial","sans-serif";color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;UnitPrice&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>19.95</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;UPCCode&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>13131092899</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>},</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Quantity&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>9.0</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                        </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>},</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;ItemNumber&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>2</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Part&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>{</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Description&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'>
&quot;Lethal Weapon&quot;</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;UnitPrice&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>19.95</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>,</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                                </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;UPCCode&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>85391628927</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>},</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                                    </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
background:white'>&quot;Quantity&quot;</span><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:teal;background:
white'>5.0</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>                        </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>}</span></p>

<p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
font-family:"Arial","sans-serif";background:white'>            </span><span
style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;background:
white'>]</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue;background:white'>}</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
color:blue'>&nbsp;</span></p>

<p class=MsoNormal>JSON documents contain scalar values, arrays and objects.
Scalar values can be strings, numbers, booleans or null. Objects consist of zero
or more key-value pairs. The value can be a scalar, an array or an object.
Arrays do not need to be homogeneous e.g. each item in an array can be of a
different type.<span class=navheader1><span style='font-size:14.0pt;color:black;
font-weight:normal'><br clear=all style='page-break-before:always'>
</span></span></p>

<h3><a name="_Toc401003422"><span class=navheader1><span style='font-size:14.0pt;
color:black'>JSON Path language</span></span></a></h3>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in'><span
class=navheader1><span style='font-family:"Times New Roman","serif";color:black;
font-weight:normal'>The JSON path language makes it possible to address the
contents of a JSON document. A JSON path expression can address one of 4 items:</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in'><span
class=navheader1><span style='font-family:"Times New Roman","serif";color:black;
font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in'><span
class=navheader1><span style='font-family:Symbol;color:black;font-weight:normal'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=navheader1><span style='font-family:"Times New Roman","serif";
color:black;font-weight:normal'>The entire object</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in'><span
class=navheader1><span style='font-family:Symbol;color:black;font-weight:normal'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=navheader1><span style='font-family:"Times New Roman","serif";
color:black;font-weight:normal'>A scalar value </span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in'><span
class=navheader1><span style='font-family:Symbol;color:black;font-weight:normal'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=navheader1><span style='font-family:"Times New Roman","serif";
color:black;font-weight:normal'>An array </span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in'><span
class=navheader1><span style='font-family:Symbol;color:black;font-weight:normal'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=navheader1><span style='font-family:"Times New Roman","serif";
color:black;font-weight:normal'>A child object</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in'><span
class=navheader1><span style='font-family:"Times New Roman","serif";color:black;
font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in'><span
class=navheader1><span style='font-family:"Times New Roman","serif";color:black;
font-weight:normal'>JSON path expressions are similar to XPath Expressions in
XML.</span></span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:.25in'><span
class=navheader1><span style='font-family:"Times New Roman","serif";color:black;
font-weight:normal'><br>
The entire document is referenced by $. All JSON path expressions start with a
‘$’ symbol. Key names are separated by a ‘.’ (period). JSON path expressions
are case sensitive.</span></span></p>

<p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
color:black;font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoListParagraph style='margin-left:.25in'><span class=navheader1><span
style='font-family:"Times New Roman","serif";color:black;font-weight:normal'>The
following table shows the results of executing some sample JSON path
expressions over the sample document.<br>
<br>
</span></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse;border:none'>
 <tr style='height:24.25pt'>
  <td width=300 style='width:225.0pt;border:solid windowtext 1.0pt;padding:
  0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
  color:black'>JSON Path Expression </span></span></p>
  </td>
  <td width=91 style='width:68.15pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
  color:black'>Type</span></span></p>
  </td>
  <td width=274 style='width:205.45pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
  color:black'>Contents</span></span></p>
  </td>
 </tr>
 <tr style='height:24.25pt'>
  <td width=300 style='width:225.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>$.Reference</span></span></p>
  </td>
  <td width=91 style='width:68.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>String</span></span></p>
  </td>
  <td width=274 style='width:205.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;background:white'>&quot;ABULL-20120421&quot;</span></p>
  </td>
 </tr>
 <tr style='height:24.25pt'>
  <td width=300 style='width:225.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>$.ShippingInstructions.Address.zipcode</span></span></p>
  </td>
  <td width=91 style='width:68.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>Number</span></span></p>
  </td>
  <td width=274 style='width:205.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>99236</span></p>
  </td>
 </tr>
 <tr style='height:77.8pt'>
  <td width=300 style='width:225.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:77.8pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>$.ShippingInstructions.Address</span></span></p>
  </td>
  <td width=91 style='width:68.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:77.8pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>Object</span></span></p>
  </td>
  <td width=274 valign=top style='width:205.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:77.8pt'>
  <p class=MsoNormal style='margin-left:2.95pt;text-autospace:none'><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>{</span></p>
  <p class=MsoNormal style='margin-left:2.95pt;text-autospace:none'><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>       </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;street&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>
  &quot;200 Sporting Green&quot;</span><span style='font-size:9.0pt;font-family:
  "Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='margin-left:2.95pt;text-autospace:none'><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>       </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;city&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>
  &quot;South San Francisco&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='margin-left:2.95pt;text-autospace:none'><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>       </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;state&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>
  &quot;CA&quot;</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='margin-left:2.95pt;text-autospace:none'><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>       </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;zipCode&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:teal;
  background:white'>99236</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='margin-left:2.95pt;text-autospace:none'><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>       </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;country&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>:</span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'>
  &quot;United States of America&quot;</span></p>
  <p class=MsoNormal style='margin-left:2.95pt'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>}</span></p>
  </td>
 </tr>
 <tr>
  <td width=300 style='width:225.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>$LineItems</span></span></p>
  </td>
  <td width=91 style='width:68.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>Array</span></span></p>
  </td>
  <td width=274 valign=top style='width:205.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>[</span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";background:white'> </span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>     </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>{</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;ItemNumber&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>1</span><span style='font-size:9.0pt;font-family:
  "Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Part&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:blue;background:white'>{</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Description&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> &quot;One Magic Christmas&quot;</span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;UnitPrice&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>19.95</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;UPCCode&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>13131092899</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>},</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Quantity&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>9</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>    </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>},</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>    </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>{</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;ItemNumber&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>2</span><span style='font-size:9.0pt;font-family:
  "Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Part&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:blue;background:white'>{</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Description&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> &quot;Lethal Weapon&quot;</span><span style='font-size:
  9.0pt;font-family:"Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;UnitPrice&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>19.95</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;UPCCode&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>85391628927</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>},</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Quantity&quot;</span><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:9.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>5</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>    </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>}</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:9.0pt;
  font-family:"Arial","sans-serif";background:white'>  </span><span
  style='font-size:9.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>]</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
color:black;font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoListParagraph style='margin-left:.25in'><span class=navheader1><span
style='font-family:"Times New Roman","serif";color:black;font-weight:normal'>Individual
members of a array can be accessed using an index or offset. The Index is
enclosed by ‘[‘ and ‘]’ (square brackets). The first item in the array has an
index of 0. All members of an array can be accessed together by using an ‘*’
(asterisk) as the index. An index may also be a comma separated list or a
range.</span></span></p>

<p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
color:black;font-weight:normal'>&nbsp;</span></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse;border:none'>
 <tr style='height:24.25pt'>
  <td width=310 style='width:232.55pt;border:solid windowtext 1.0pt;padding:
  0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
  color:black'>JSON Path Expression </span></span></p>
  </td>
  <td width=81 style='width:60.6pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
  color:black'>Type</span></span></p>
  </td>
  <td width=274 style='width:205.45pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
  color:black'>Contents</span></span></p>
  </td>
 </tr>
 <tr style='height:24.25pt'>
  <td width=310 style='width:232.55pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>$.LineItems[1]</span></span></p>
  </td>
  <td width=81 style='width:60.6pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>Object</span></span></p>
  </td>
  <td width=274 style='width:205.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>    </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>{</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;ItemNumber&quot;</span><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>2</span><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Part&quot;</span><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  color:blue;background:white'>{</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Description&quot;</span><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  background:white'> &quot;Lethal Weapon&quot;</span><span style='font-size:
  10.0pt;font-family:"Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;UnitPrice&quot;</span><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>19.95</span><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";color:blue;background:white'>,</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>        </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;UPCCode&quot;</span><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>85391628927</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>},</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>      </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:maroon;
  background:white'>&quot;Quantity&quot;</span><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'> </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>:</span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  background:white'> </span><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  color:teal;background:white'>5</span></p>
  <p class=MsoNormal style='text-autospace:none'><span style='font-size:10.0pt;
  font-family:"Arial","sans-serif";background:white'>    </span><span
  style='font-size:10.0pt;font-family:"Arial","sans-serif";color:blue;
  background:white'>}</span></p>
  <p class=MsoNormal><span style='font-size:10.0pt;background:white'>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:24.25pt'>
  <td width=310 style='width:232.55pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>$.LineItems[*].UPCCode</span></span></p>
  </td>
  <td width=81 style='width:60.6pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:24.25pt'>
  <p class=MsoNormal><span class=navheader1><span style='color:black;
  font-weight:normal'>Array</span></span></p>
  </td>
  <td width=274 style='width:205.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:24.25pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:"Arial","sans-serif";
  color:teal'>[<span style='background:white'>13131092899</span>,<span
  style='background:white'> 85391628927</span>]</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span class=navheader1><span style='font-size:14.0pt;
color:black;font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoNormal><span class=navheader1><i><span style='font-size:14.0pt;
color:black'>&nbsp;</span></i></span></p>

<span class=navheader1><span style='font-size:14.0pt;color:black;font-weight:
normal'><br clear=all style='page-break-before:always'>
</span></span>

<p class=MsoNormal><span class=navheader1><i><span style='font-size:14.0pt;
color:black'>&nbsp;</span></i></span></p>

<h3><a name="_Toc401003423"><span class=navheader1><span style='font-size:14.0pt;
color:black'>Using SQL Developer to run SQL scripts</span></span></a></h3>

<p class=MsoNormal>All of the scripts required for this laboratory have been
pre-loaded in the virtual machine and can be run via SQL Developer. To run
scripts in SQL Developer:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-size:10.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Click the <b>Files</b> tab in the SQL Developer navigator window.
If the <b>Files</b> tab is not present, open the <b>View</b> menu and click <b>Files</b>.</p>

<p class=MsoListParagraphCxSpMiddle> </p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-size:10.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Expand the folder tree in the Files table and locate the folder
containing the SQL script files, The folder can found by selecting <b>MyComputer
</b>-&gt; <b>Desktop </b>-&gt; <b>DatabaseTrack</b> -&gt; <b>JSON</b> -&gt; <b>sql</b></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-size:10.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Click the + button to show the list of files in the SQL folder.</p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-size:10.0pt'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Open the script by moving the mouse over the required script and
then selecting OPEN from the right mouse button menu.<br>
<br>
</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
class=navheader1><i><span style='font-size:10.0pt;font-family:"Times New Roman","serif";
color:black'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></i></span>Execute statements by clicking anywhere inside the
statement and then clicking the execute statement icon <img border=0 width=19
height=19 src="JSON_HOL1_files/image001.png"> from the SQL Worksheet toolbar. <br>
<br>
<img border=0 width=592 height=455 id="Picture 1"
src="JSON_HOL1_files/image002.jpg"> <span class=navheader1><span
style='font-size:14.0pt;color:black;font-weight:normal'><br clear=all
style='page-break-before:always'>
</span></span></p>

<h2><a name="_Toc401003424"><span class=navheader1><span style='color:black'>Initialize
the Hands-on Lab</span></span></a></h2>

<h3><a name="_Toc401003425"><span class=boldbodycopy1><span style='font-family:
"Times New Roman","serif"'>Run the reset script</span></span></a></h3>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
a command prompt by right clicking anywhere on the desktop and selecting the
“Open in Terminal”  option from the right click menu.<br>
<br>
</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>When
the terminal window opens, set the current directory to the home directory and run
the reset script by executing the command ./<b>reset_JSON</b> at the command
prompt.<span class=boldbodycopy1><span style='font-size:9.0pt'><br>
<br>
</span></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:9.0pt;
font-family:"Arial","sans-serif"'><img border=0 width=515 height=364
src="JSON_HOL1_files/image003.jpg"></span></p>

<p class=MsoNormal style='margin-left:.5in'><span class=boldbodycopy1><span
style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoListParagraph style='text-indent:-.25in'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Once the script has completed, type <b>CTRL+D</b> to close the terminal
window.</p>

<b><span style='font-size:13.5pt;font-family:"Times New Roman","serif";
color:black'><br clear=all style='page-break-before:always'>
</span></b>

<h3><a name="_Toc270369454"></a><a name="_Toc401003426"><span
class=boldbodycopy1><span style='font-family:"Times New Roman","serif"'>Set up
SQL Developers database connection</span></span></a></h3>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
the SQL Developer icon on the desktop to start the application. <img border=0
width=29 height=29 src="JSON_HOL1_files/image004.jpg" alt=icon><br>
<br>
</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Create
a database connection as user <b>JSON</b> by performing the following steps.<br>
<br>
</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>In
the Connections tab, right-click<b> Connections</b> and select <b>New
Connection</b>.</p>

<p class=bodycopy style='margin-left:.5in'><img border=0 width=211 height=265
id="Picture 4" src="JSON_HOL1_files/image005.jpg"></p>

<p class=MsoNormal style='text-indent:.5in'>The <b>New / Select Database
Connection</b> window opens. </p>

<p class=bodycopy style='margin-left:.5in'><img border=0 width=498 height=262
id="Picture 7" src="JSON_HOL1_files/image006.jpg"></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Enter
the following details:<br>
<br>
Connection Name: <b>JSON</b><br>
UserName: <b>JSON1</b><br>
Password:<b>oracle</b><br>
Hostname: <b>localhost</b> <br>
Port: <b>1521</b><br>
Service name: <b>ORCL<br>
<br>
</b></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
<b>Test </b>to make sure that the connection has been set correctly. Select the
<b>Save Password</b> check box, to ensure that the password is saved. After the
test status shows success, click <b>Save</b> to save the connection, then click
<b>Connect</b>.</p>

<h3><a name="_Toc401003427">Set the Autotrace parameters</a></h3>

<p class=MsoListParagraph style='text-indent:-.25in'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Go to <b>Tools</b> -&gt; <b>Preferences</b>.</p>

<p class=bodycopy style='margin-left:1.0in'><img border=0 width=462 height=341
id="Picture 13" src="JSON_HOL1_files/image007.jpg"></p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black;
background:silver'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='background:silver'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:.25in'>Expand <b>Database</b>, and select
the <b>Autotrace/Explain</b> <b>Parameters</b> option.<br>
<br>
</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make
sure to select the following check boxes </p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>Object_Name<br>
Cost<br>
Cardinality<br>
Predicates</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoNormal style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoNormal style='margin-left:.5in'><img border=0 width=422 height=305
src="JSON_HOL1_files/image008.jpg"></p>

<p class=MsoNormal style='margin-left:.5in'>&nbsp;</p>

<p class=MsoNormal style='margin-left:.5in'>Click <b>OK</b>.</p>

<span class=navheader1><span style='font-size:14.0pt;color:black;font-weight:
normal'><br clear=all style='page-break-before:always'>
</span></span>

<p class=MsoNormal><span class=navheader1><i><span style='font-size:14.0pt;
color:black'>&nbsp;</span></i></span></p>

<h2><a name="_Toc401003428"><span class=navheader1><span style='color:black'>Storing
JSON documents in Oracle Database 12c</span></span></a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>JSON support is added to Oracle Database 12c starting with
release Oracle Database 12.1.0.2.0.</p>

<h3><a name="_Toc401003429">Create a simple table to store JSON documents</a></h3>

<p class=MsoNormal>In Oracle there is no dedicated JSON data type. JSON
documents are stored in the database using standard Oracle data types such as
VARCHAR2, CLOB and BLOB. VARCHAR2 can be used where the size of the JSON
document will never exceed 4K or 32K, when LONG VARCHAR support is enabled.
Larger documents are stored using CLOB or BLOB data types. </p>

<p class=MsoNormal>In order to ensure that the content of the column is valid JSON
data, a new constraint IS JSON, is provided that can be applied to a column.
This constraint returns TRUE if the content of the column is well formatted
JSON and FALSE otherwise.</p>

<p class=MsoNormal>Open the script <b>1.0 CreateTable.sql. </b>This script
shows how to create a table to store JSON documents and how to use external
tables to load JSON documents into the table.</p>

<p class=MsoNormal><b>&nbsp;</b></p>

<p class=MsoNormal>This first statement in this script creates a table which
will be used to contain JSON documents.</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>create table
J_PURCHASEORDER (<br>
  ID            RAW(16) NOT NULL,<br>
  DATE_LOADED   TIMESTAMP(6) WITH TIME ZONE,<br>
  PO_DOCUMENT CLOB CHECK (PO_DOCUMENT IS JSON)<br>
)<br>
/           </p>

</div>

<p class=MsoListParagraphCxSpFirst>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>This statement creates
a very simple table, <b>J_PURCHASEORDER</b>. The table has a column <b>PO_DOCUMENT
</b>of type CLOB. The <b>IS JSON </b>constraint is applied to the column <b>PO_DOCUMENT</b>,<b>
</b>ensuring that the column can store only well formed JSON documents.</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><b><span style='font-size:13.5pt'>&nbsp;</span></b></p>

<h3><a name="_Toc401003430">Loading JSON Documents into the database</a></h3>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>JSON documents can
come from a number of different sources. Since Oracle stores JSON data using standard
SQL data types, all of the popular Oracle APIs can be used to load JSON
documents into the database. JSON documents contained in files can be loaded
directly into the database using External Tables.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The second
statement creates a simple external table that can read JSON documents from a
dump file generated by a typical No-SQL style database. In this case, the
documents are contained in the file PurchaseOrders.dmp. The SQL directory
object ORDER_ENTRY points to the folder containing the dump file, and the SQL
directory object JSON_LOADER_OUTPUT points to the database’s trace folder which
will contain any ‘log’ or ‘bad’ files generated when the table is processed. </p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>CREATE TABLE
DUMP_FILE_CONTENTS(<br>
  PO_DOCUMENT CLOB<br>
)<br>
ORGANIZATION EXTERNAL(<br>
   TYPE ORACLE_LOADER<br>
   DEFAULT DIRECTORY ORDER_ENTRY<br>
   ACCESS PARAMETERS (<br>
      RECORDS DELIMITED BY 0x'0A' <br>
      BADFILE JSON_LOADER_OUTPUT: 'JSON_DUMPFILE_CONTENTS.bad'<br>
      LOGFILE JSON_LOADER_OUTPUT: 'JSON_DUMPFILE_CONTENTS.log'<br>
      FIELDS(<br>
        JSON_DOCUMENT CHAR(5000)<br>
      ) <br>
   )<br>
   LOCATION (<br>
     ORDER_ENTRY:'PurchaseOrders.dmp'<br>
   )<br>
)<br>
PARALLEL<br>
REJECT LIMIT UNLIMITED<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The third statement
copies the JSON documents from the file underlying the external table into the <b>J_PURCHASEORDER</b>
table.</p>

<p class=MsoListParagraphCxSpLast>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>insert into J_PURCHASEORDER<br>
select SYS_GUID(), SYSTIMESTAMP, JSON_DOCUMENT <br>
  from DUMP_FILE_CONTENTS<br>
 where PO_DOCUMENT IS JSON<br>
/<br>
commit<br>
/</p>

</div>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-size:13.5pt;
font-family:"Times New Roman","serif"'>&nbsp;</span></span></p>

<p class=MsoListParagraph style='margin-left:0in'>The IS JSON condition is used
to ensure that the insert operation takes place only for well formed documents.
Make sure that the commit statement is executed after the insert statement has
completed. SYS_GUID and SYSTIMESTAMP are used to populate columns ID and
DATE_LOADED.</p>

<h2><a name="_Toc401003431"><span class=boldbodycopy1>Accessing JSON documents
stored in Oracle Database 12c</span></a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Oracle 12c allows a simple ‘dotted’ notation to be used to
perform a limited set of operations on columns containing JSON. It also introduces
a set of SQL operators that allow the full power of the JSON path language to
be used with JSON. This is similar to the way in which the database allows
XQuery to be used to access the contents of XML documents stored in the
database.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span class=boldbodycopy1><i><span style='font-size:14.0pt'>Accessing
JSON using simplified syntax</span></i></span></p>

<p class=MsoNormal><span class=boldbodycopy1><i><span style='font-size:14.0pt'>&nbsp;</span></i></span></p>

<p class=MsoNormal>The dotted notation can be used to perform basic operations
on JSON stored in Oracle 12c. Using the dotted notation you can access the
value of any keys contained in the JSON document. In order to use the dotted
notation, a table alias must be assigned to the table in the FROM clause, and
any reference to the JSON column must be prefixed with the assigned alias. All
data is returned as VARCHAR2(4000).</p>

<p class=MsoNormal><br>
Open the script <b>1.1 SIMPLE_QUERIES.sql. </b>This script demonstrates how to
use the simplied syntax to extract values from an JSON document and how to
filter a result set based on the content of a JSON document.</p>

<p class=MsoListParagraphCxSpFirst>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>The first query shows
the count of PurchaseOrder documents by cost center:</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
j.PO_DOCUMENT.CostCenter, count(*)<br>
  from J_PURCHASEORDER j<br>
 group by j.PO_DOCUMENT.CostCenter <br>
 order by j.PO_DOCUMENT.CostCenter <br>
/</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The second query shows how to fetch the JSON document where
the PONumber key has the value 1600:</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
j.PO_DOCUMENT<br>
  from J_PURCHASEORDER j<br>
 where j.PO_DOCUMENT.PONumber = 1600<br>
/</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The third query shows how to fetch data from any document
where the key PONumber contains the value 1600. The statement returns the
values of the keys Reference, Requestor and CostCenter as well as the value of the
key city which is a property of the object identified by the key Address which in
turn is a property of the object identified by the key ShippingInstructions.</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
j.PO_DOCUMENT.Reference,<br>
       j.PO_DOCUMENT.Requestor,<br>
       j.PO_DOCUMENT.CostCenter,<br>
       j.PO_DOCUMENT.ShippingInstructions.Address.city<br>
  from J_PURCHASEORDER j<br>
 where j.PO_DOCUMENT.PONumber = 1600<br>
/</p>

</div>

<span class=boldbodycopy1><i><span style='font-size:14.0pt'><br clear=all
style='page-break-before:always'>
</span></i></span>

<p class=MsoNormal><span class=boldbodycopy1><i><span style='font-size:14.0pt'>&nbsp;</span></i></span></p>

<p class=MsoNormal>The fourth query shows how to fetch the content of the
Address object:</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
j.PO_DOCUMENT.ShippingInstructions.Address<br>
  from J_PURCHASEORDER j<br>
 where j.PO_DOCUMENT.&quot;PONumber&quot; = 1600<br>
/ </p>

</div>

<p class=MsoNormal>The Address object is returned as JSON text in a
VARCHAR2(4000). </p>

<h3><a name="_Toc401003432">Accessing scalar values using JSON_VALUE</a></h3>

<p class=MsoNoSpacing>The JSON_VALUE operator uses a JSON path expression to
access a single scalar value. It is typically used in the select list to return
the value associated with the JSON path expression or in the WHERE clause to
filter a result set based on the content of a JSON document. <br>
<br>
</p>

<p class=MsoNoSpacing>JSON_VALUE takes two arguments, a JSON column and a JSON
path expression. It provides a set of modifiers that allow control over the
format in which the data is returned and how to handle any errors encountered
while evaluating the JSON path expression. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the script <b>2.0 JSON_VALUE.sql. </b>This script
demonstrates how to use the JSON_VALUE operator to extract scalar values from a
JSON document using JSON path expressions and to filter a result set based on
the content of a JSON document.</p>

<p class=MsoListParagraphCxSpFirst>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The first query
shows the count of PurchaseOrder documents by cost center:</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
JSON_VALUE(PO_DOCUMENT ,'$.CostCenter'), count(*)<br>
  from J_PURCHASEORDER<br>
 group by JSON_VALUE(PO_DOCUMENT ,'$.CostCenter')<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The query uses the
JSON_VALUE operator to return the value of the CostCenter key from each
document in the J_PURCHASEORDER table. The SQL Count and Group operators are
then applied to the values returned, to generate the desired result. This shows
how by storing JSON documents in the Oracle Database makes it possible to bring
the full power of SQL to bear on JSON content without giving up any of the
advantages of the JSON paradigm.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'><br>
<br>
</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>The second query
shows how to access a value from within an array. This example uses index 0 to
access the value of the UPCCode from the Part object inside the first member of
the LineItems array.  This query also shows how to use JSON_VALUE as a filter
in the WHERE clause of the SQL statement, so that the JSON_VALUE operator in
the select list is executed only for those rows where the JSON_VALUE based
condition in the WHERE clause evaluates to TRUE.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 0in;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1;border:none;
padding:0in'>select JSON_VALUE(PO_DOCUMENT ,'$.LineItems[0].Part.UPCCode')<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>JSON_VALUE also provides
control over the value returned. You can specify size when returning a VARCHAR2
value, and size and precision when returning a NUMBER value. The third query
shows how to specify the SQL data type that is returned by JSON_VALUE. In this
case, the value is returned as a NUMBER(5,3) value.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 0in;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1;border:none;
padding:0in'>select JSON_VALUE(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[0].Part.UnitPrice' <br>
         returning NUMBER(5,3)<br>
       )<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The JSON_VALUE
function also provides options for handling errors that might be encountered
when applying the JSON PATH expression to a JSON document. Options available
include:</p>

<p class=MsoListParagraphCxSpMiddle>            </p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>NULL ON ERROR: The default. If an error is encountered while
applying a JSON path expression to a JSON document the result is assumed to be SQL
NULL and no error is raised.<br>
<br>
</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>ERROR ON ERROR: An error is raised in the event that an error is
encountered while applying a JSON path expression to a JSON document.<br>
<br>
</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>DEFAULT on ERROR: The developer specifies a literal value that is
returned in the event that an error is encountered while applying a JSON path
expression to a JSON document.<br>
<br>
</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>The most common
source of an error with JSON_VALUE is that the JSON path expression resolves to
something other than a scalar value. JSON, by its nature is highly flexible,
which raises the possibility of having a small number of documents that do not conform
to a particular pattern. The NULL ON ERROR behavior ensures that a single error
caused by one outlier does not abort an entire operation.</p>

<p class=MsoNormal>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraph style='margin-left:0in'>The fourth query shows the
default behavior for JSON_VALUE in the event of an error during JSON path
evaluation. </p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
JSON_VALUE(PO_DOCUMENT ,'$.ShippingInstruction.Address')<br>
  from J_PURCHASEORDER<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>In this example,
there is an error in the first key in the JSON path expression. The first key
should be ShippingInstructions, not ShippingInstruction. Since the JSON path
expression does match a scalar value, the NULL ON ERROR behavior kicks in and
the JSON_VALUE operator returns NULL.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The fifth query
demonstrates the DEFAULT on ERROR behavior</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
JSON_VALUE(<br>
         PO_DOCUMENT ,<br>
         '$.ShippingInstruction.Address' <br>
         DEFAULT 'N/A' ON ERROR<br>
       )<br>
  from J_PURCHASEORDER<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>Since the JSON path
expression does not evaluate to a scalar value, when the JSON path expression
is evaluated the DEFAULT on ERROR behavior kicks in, and the JSON_VALUE
operator returns “N/A”.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The sixth query
demonstrates the ERROR ON ERROR behavior. </p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
JSON_VALUE(<br>
         PO_DOCUMENT ,<br>
         '$.ShippingInstruction.Address' <br>
         ERROR ON ERROR<br>
       )<br>
  from J_PURCHASEORDER<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Since the JSON path expression does not evaluate to a scalar
value, when the JSON path expression is evaluated the ERROR ON ERROR behavior
kicks in and results in error “ORA-40462: JSON_VALUE evaluated to no value” being
raised.</p>

<p class=MsoNormal>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The seventh query is another example of the ERROR ON ERROR
behavior. </p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select JSON_VALUE(<br>
         PO_DOCUMENT ,<br>
         '$.ShippingInstructions.Address' <br>
         ERROR ON ERROR<br>
       )<br>
  from J_PURCHASEORDER<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>In this case, the JSON path expression does evaluate to a
key in the document; however the value associated with the key is an object,
not a scalar. Since JSON_VALUE can only return a scalar value, when the JSON
path expression is evaluated the ERROR ON ERROR behavior kicks in and results
in error “ORA-40456: JSON_VALUE evaluated to non-scalar value” being raised.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The eighth query shows that the error handling clauses only apply
to runtime errors that arise when the JSON path expression is applied to a set
of JSON documents:</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
JSON_VALUE(<br>
         PO_DOCUMENT ,<br>
         '$.ShippingInstructions,Address' <br>
         NULL ON ERROR<br>
       )<br>
  from J_PURCHASEORDER<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoListParagraph style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>In this example, the error is that a comma, rather than a
period, has been used as the separator between the first and second keys in the
JSON path expression. Despite the fact that NULL ON ERROR semantics were
requested, when the statement is executed error “ORA-40442: JSON path
expression syntax error” is raised due to the fact that an invalid JSON path expression
is a compile time error rather than a runtime error.</p>

<p class=MsoListParagraph>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><b><span style='font-size:13.5pt'>&nbsp;</span></b></p>

<h3><a name="_Toc401003433">Accessing objects and arrays using JSON_QUERY</a><br>
<br>
</h3>

<p class=MsoListParagraph style='margin-left:0in'>JSON_QUERY is the complement
of JSON_VALUE. Whereas JSON_VALUE can return only a scalar value, JSON_QUERY
can return only an object or an array. Like JSON_VALUE, JSON_QUERY takes two
arguments, a JSON column and a JSON path expression. It provides a set of
modifiers that allow control over the format in which the data is returned and
how to handle any errors encountered while evaluating the JSON path expression.
The following examples show the use of JSON_QUERY.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the script <b>3.0 JSON_QUERY.sql. </b>This script
demonstrates how to use the JSON_QUERY operator to extract objects and arrays
from a JSON document using JSON path expressions.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>The first query shows how to return the contents of the key
ShippingInstructions:</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
JSON_QUERY(PO_DOCUMENT ,'$.ShippingInstructions')<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Since the contents of ShippingInstructions is an object, the
value is returned as a JSON object delimited by curly braces ‘{‘ and ‘}’.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>The second query shows how to return the contents of the key
LineItems:</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_QUERY(PO_DOCUMENT ,'$.LineItems')<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</span></span></p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Since the contents of LineItems is an array, the value is
returned as a JSON array delimited by square brackets ‘[‘ and ‘]’.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>By default, for maximum efficiency, objects and arrays are
printed with the minimal amount of whitespace. This minimizes the number of
bytes needed to represent the value, and is fine when the object will be consumed
by a computer. However, sometimes it is necessary for the output of a JSON_QUERY
operation to be human readable. JSON_QUERY provides the keyword PRETTY for this
purpose. <br>
<br>
</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The third query shows the use of the PRETTY keyword to
format the output of the JSON_QUERY operator.</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
JSON_QUERY(PO_DOCUMENT ,'$.LineItems' PRETTY)<br>
  from J_PURCHASEORDER p <br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'><span
class=boldbodycopy1><span style='font-size:13.5pt;font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'><span
class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>The array is output as neatly indented JSON, making it much
easier for a human to understand. However this comes at the cost of increasing
the number of bytes needed to represent the content of the array.</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in'><span
class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'><span
class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>The fourth query shows how to use an array offset to access
one item from an array of objects:</span></span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'><span
class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_QUERY(PO_DOCUMENT ,'$.LineItems[0]' PRETTY)<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</span></span></p>

</div>

<p class=MsoNormal style='margin-left:.25in'><span class=boldbodycopy1><span
style='font-family:"Times New Roman","serif";font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>Since the selected item </span></span>is a JSON object, it
is delimited by curly braces ‘{‘ and ‘}’.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>The fifth query shows how to access the value of a key from one
specific member of an array of objects.</p>

<p class=MsoNormal style='margin-left:.25in'>                                                                                          </p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_QUERY(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[0].Part <br>
       )<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</span></span></p>

</div>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>Since the contents of Part is </span></span>an object, the
value is returned as a JSON object delimited by curly braces ‘{‘ and ‘}’.</p>

<p class=MsoNormal>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>The JSON_QUERY
function also provides options for handling errors that might be encountered
when applying the JSON path expression to a JSON document. Options available
include:</p>

<p class=MsoListParagraphCxSpMiddle>            </p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>NULL ON ERROR: The default. If an error is encountered while
applying a JSON path expression to a JSON document, the result is assumed to be
NULL and no error condition is raised.<br>
<br>
</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>ERROR ON ERROR: An error is raised in the event that an error is
encountered while applying a JSON path expression to a JSON document.<br>
<br>
</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>EMPTY ON ERROR: An empty array, “[]”, is returned in the event
that an error is encountered while applying a JSON path expression to a JSON
document.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>The most common
source of an error with JSON_QUERY is that the JSON path expression resolves to
something other than an object or array. The NULL ON ERROR behavior ensures
that a single error caused by one outlier does not abort an entire operation.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The sixth query shows the default behavior for JSON_QUERY in
the event of an error during JSON path evaluation. </p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_QUERY(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[0].Part.UPCCode' <br>
       )<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</span></span></p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>In this example the
error is that the JSON path expression maps to a scalar value rather than an
object or an array. Since JSON_QUERY can only return an object or an array, the
NULL ON ERROR handling kicks in and results in the query returning NULL.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The seventh query shows the ERROR ON ERROR behavior for
JSON_QUERY in the event of an error during JSON path evaluation. </p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_QUERY(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[0].Part.UPCCode'<br>
         ERROR ON ERROR<br>
       )<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</span></span></p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>Since the result of
the JSON path expression is a scalar value, the ERROR ON ERROR handling kicks
in and results in an “ORA-40480: result cannot be returned without array
wrapper” error being raised.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>The eighth query
shows the use of the EMPTY ON ERROR behavior</p>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_QUERY(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[0].Part.UPCCode'<br>
         EMPTY ON ERROR<br>
       )<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</span></span></p>

</div>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>Since the result of the JSON path expression is a scalar
value, the EMPTY ON ERROR handling kicks in and the result of the JSON_QUERY
operation is an empty array, “[]”.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>The ninth query
shows how to use the “WITH CONDITIONAL ARRAY WRAPPER” option to avoid a
JSON_QUERY error when a JSON path expression evaluates to a scalar value. When
this option is specified, a JSON path expression that evaluates to a scalar
value is returned as an array. The array consists of one element containing a
scalar value.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.25in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_QUERY(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[0].Part.UPCCode' <br>
         WITH CONDITIONAL ARRAY WRAPPER<br>
       )<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</span></span></p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>Since the result of
the JSON path expression is a scalar value, JSON_QUERY automatically converts
the result into an array with that one item and returns the array.</p>

<p class=MsoNormal>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraph style='margin-left:0in'>The tenth query shows how to
use WITH ARRAY WRAPPER to force JSON_QUERY to always return the result as an
array. In this example, the index is an asterisk, indicating that all members
of the LineItems array should be processed, and the last key in the JSON path
expression is also an asterisk, indicating that all children of the Part key
should be processed.</p>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_QUERY(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[*].Part.*' <br>
         WITH ARRAY WRAPPER<br>
       )<br>
  from J_PURCHASEORDER p<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</span></span></p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>The result of
executing this query is an array with 6 items. The first 3 items come from the
Description, UnitPrice and UPCCode associated with the Part key of the first
member of the LineItems array. The second 3 come from the Description,
UnitPrice and UPCCode associated with the Part key of the second member of the LineItems
array. Also note that since Description and UPCCode are strings, and UnitPrice
is a numeric, the resulting array is heterogeneous in nature, containing a
mixture of string and numeric values. </p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><b><span style='font-size:13.5pt'>&nbsp;</span></b></p>

<h3><a name="_Toc401003434">Relational access to JSON content using JSON_TABLE</a></h3>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>JSON_TABLE is used
in the FROM clause of a SQL statement. It enables the creation of an inline
relational view of JSON content. The JSON_TABLE operator uses a set of JSON
path expressions to map content from a JSON document into columns in the view.
Once the contents of the JSON document have been exposed as columns, all of the
power of SQL can be brought to bear on the content of JSON document.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>&nbsp;</p>

<p class=MsoNormal>The input to the JSON_TABLE operator is a JSON object or a JSON
array. The JSON_TABLE operator is driven by a row pattern which consists of a
JSON path expression. The row pattern determines how many rows the JSON_TABLE
operator will generate. It will generate 1 row from each key that matches the supplied
row pattern. If the row pattern matches a single key then the JSON_TABLE operator
will generate exactly one row. If the row pattern references one or more arrays
then it will generate a row from each item in the deepest array.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The rows output by a JSON_TABLE operator are laterally
joined to the row that generated them. There is no need to supply a WHERE
clause to join the output of the JSON_TABLE operator with the table containing
the JSON document.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Columns are defined by one or more column patterns that
appear after the COLUMNS keyword. The inline view contains 1 column for each
entry in the columns clause. Each column pattern consists of a column name, a
SQL data type and a JSON path expression. The column name determines the SQL
name of the column, the SQL data type determines the data type of the column
and the JSON path expression maps a value from the document to the column. The
JSON path expressions in the columns clause are relative to the row pattern. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the script 4<b>.0 JSON_TABLE.sql. </b>This script shows
how to use JSON_TABLE to generate inline relational views of JSON documents.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The first query shows how to project a set of columns from
values that occur at most once in the document. The values can come from any
level of nesting, as long as they do not come from keys that are part of, or
descended from an array, unless an index is used to identify one item in the
array.</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select M.*<br>
  from J_PURCHASEORDER p,<br>
       JSON_TABLE(<br>
       p.PO_DOCUMENT ,<br>
       '$' <br>
       columns <br>
<span style='font-size:9.0pt'>         PO_NUMBER  NUMBER(10)        path '$.PONumber',<br>
         REFERENCE  VARCHAR2(30 CHAR) path '$.Reference',<br>
         REQUESTOR  VARCHAR2(32 CHAR) path '$.Requestor',<br>
         USERID     VARCHAR2(10 CHAR) path '$.User',<br>
         COSTCENTER VARCHAR2(16 CHAR) path '$.CostCenter',<br>
         TELEPHONE  VARCHAR2(16 CHAR) path '$.ShippingInstructions.Phones[0].number’<br>
</span>       ) M<br>
 where PO_NUMBER between 1600 and 1605<br>
/</p>

</div>

<p class=MsoListParagraph style='margin-left:0in'>This example generates a view
with 5 columns, REFERENCE, REQUESTOR, USERID, COSTCENTER and TELEPHONE. The use
of ‘$’ as the JSON path expression for the ROW pattern means the entire JSON
document. This means that all column patterns are descended directly from the
top level object. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraph style='margin-left:0in'>The second query shows how to
work with arrays. In order to expose the contents of an array as a set of rows,
the array must be processed using the NESTED PATH syntax. When a JSON_TABLE
operator contains a NESTED PATH clause it will output one row for each member
of the array referenced by the deepest NESTED PATH clause. The row will contain
all of the columns defined by each level of the JSON_TABLE expression.<br>
<br>
</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select D.*<br>
  from J_PURCHASEORDER p,<br>
       JSON_TABLE(<br>
         p.PO_DOCUMENT ,<br>
         '$' <br>
         columns(<br>
           PO_NUMBER    NUMBER(10)            path  '$.PONumber',<br>
           REFERENCE    VARCHAR2(30 CHAR)     path  '$.Reference',<br>
           REQUESTOR    VARCHAR2(32 CHAR)     path  '$.Requestor',<br>
           USERID       VARCHAR2(10 CHAR)     path  '$.User',<br>
           COSTCENTER   VARCHAR2(16)          path  '$.CostCenter',<br>
           NESTED PATH '$.LineItems'<br>
           columns(<br>
             ITEMNO       NUMBER(16)           path '$.ItemNumber', <br>
             DESCRIPTION  VARCHAR2(32 CHAR)    path '$.Part.Description', <br>
             UPCCODE      VARCHAR2(14 CHAR)    path '$.Part.UPCCode', <br>
             QUANTITY     NUMBER(5,4)          path '$.Quantity', <br>
             UNITPRICE    NUMBER(5,2)          path '$.Part.UnitPrice'<br>
           )<br>
         )<br>
       ) D<br>
 where PO_NUMBER between 1600 and 1605<br>
/</p>

</div>

<p class=MsoNormal>The NESTED PATH option simplifies the processing of nested
collections. The NESTED PATH clause removes the need to define columns whose
sole purpose is to pass a collection from one operator to the next, making it
possible to use a “*” for the select list since the collections are no longer
emitted by the JSON_TABLE operator. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraph style='margin-left:.25in'>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><b><span style='font-size:13.5pt'>&nbsp;</span></b></p>

<h3><a name="_Toc401003435">Creating Relational views of JSON content</a></h3>

<p class=MsoNormal>One common use of JSON_TABLE is to create relational views
of JSON content which can then be operated on using standard SQL syntax. This
has the advantage of allowing programmers and tools that have no concept of
JSON data and JSON path expressions to work with JSON documents that have been
stored in the Oracle Database.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>In Oracle 12.1.0.2.0 it highly recommended to avoid joins
between these views. A fully expanded detail view will provide much better
performance than defining a master view and a detail view and then attempting
to write a query that returns a result set consisting of columns selected from
both the master view and the detail view. </p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>Open the script 5<b>.0 REALTIONAL_VIEWS.sql</b>. This script
shows how to use JSON_TABLE to create relational views of JSON content that can
be queried using standard SQL.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>The first statement creates a relational view called
PURCHASEORDER_MASTER_VIEW which exposes values that occur at most once in each
document.</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
style='font-size:8.0pt'>create or replace view PURCHASEORDER_MASTER_VIEW<br>
as<br>
select m.* <br>
 from J_PURCHASEORDER p,<br>
      JSON_TABLE(<br>
        p.PO_DOCUMENT ,<br>
        '$'<br>
        columns <br>
</span>        <span style='font-size:8.0pt'>PO_NUMBER        NUMBER(10)          path
'$.PONumber',<br>
          REFERENCE        VARCHAR2(30 CHAR)   path '$.Reference',<br>
          REQUESTOR        VARCHAR2(128 CHAR ) path '$.Requestor',<br>
          USERID           VARCHAR2(10 CHAR)   path '$.User',<br>
          COSTCENTER       VARCHAR2(16)        path '$.CostCenter',<br>
          SHIP_TO_NAME     VARCHAR2(20 CHAR)   path '$.ShippingInstructions.name',<br>
          SHIP_TO_STREET   VARCHAR2(32 CHAR)   path
'$.ShippingInstructions.Address.street',<br>
          SHIP_TO_CITY     VARCHAR2(32 CHAR    path
'$.ShippingInstructions.Address.city',<br>
          SHIP_TO_COUNTY   VARCHAR2(32 CHAR)   path
'$.ShippingInstructions.Address.county',<br>
          SHIP_TO_POSTCODE VARCHAR2(32 CHAR    path
'$.ShippingInstructions.Address.postcode',<br>
          SHIP_TO_STATE    VARCHAR2(2 CHAR)    path
'$.ShippingInstructions.Address.state',<br>
          SHIP_TO_PROVINCE VARCHAR2(2 CHAR)    path
'$.ShippingInstructions.Address.province',<br>
          SHIP_TO_ZIP      VARCHAR2(8 CHAR)    path
'$.ShippingInstructions.Address.zipCode',<br>
          SHIP_TO_COUNTRY  VARCHAR2(32 CHAR)   path
'$.ShippingInstructions.Address.country',<br>
          SHIP_TO_PHONE    VARCHAR2(24 CHAR)   path '$.ShippingInstructions.Phones[0].number',<br>
          INSTRUCTIONS     VARCHAR2(2048 CHAR) path '$.SpecialInstructions'<br>
         ) m<br>
/</span></p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>As can be seen from
the output of a describe operation, this view looks like any other relational
view. The JSON operators and JSON path expressions are hidden away in the DDL
statement that created the view.</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The second statement creates a relational view called
PURCHASEORDER_DETAIL_VIEW that exposes the contents of the LineItems array as a
set of rows.</p>

<p class=MsoNormal><b><span style='font-size:8.0pt;font-family:"Courier New";
color:windowtext'>&nbsp;</span></b></p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
style='font-size:8.0pt'>create or replace view PURCHASEORDER_DETAIL_VIEW<br>
as<br>
select D.*<br>
  from J_PURCHASEORDER p,<br>
       JSON_TABLE(<br>
         p.PO_DOCUMENT ,<br>
         '$'<br>
         columns (<br>
</span>         <span style='font-size:8.0pt'>PO_NUMBER        NUMBER(10)           path 
'$.PONumber',<br>
           REFERENCE        VARCHAR2(30 CHAR)    path '$.Reference',<br>
           REQUESTOR        VARCHAR2(128 CHAR)   path '$.Requestor',<br>
           USERID           VARCHAR2(10 CHAR)    path '$.User',<br>
           COSTCENTER       VARCHAR2(16)         path '$.CostCenter',<br>
           SHIP_TO_NAME     VARCHAR2(20 CHAR)    path
'$.ShippingInstructions.name',<br>
           SHIP_TO_STREET   VARCHAR2(32 CHAR)    path
'$.ShippingInstructions.Address.street',<br>
           SHIP_TO_CITY     VARCHAR2(32 CHAR)    path
'$.ShippingInstructions.Address.city',<br>
           SHIP_TO_COUNTY   VARCHAR2(32 CHAR)    path
'$.ShippingInstructions.Address.county',<br>
           SHIP_TO_POSTCODE VARCHAR2(10 CHAR)    path
'$.ShippingInstructions.Address.postcode',<br>
           SHIP_TO_STATE    VARCHAR2(2 CHAR)     path
'$.ShippingInstructions.Address.state',<br>
           SHIP_TO_PROVINCE VARCHAR2(2 CHAR)     path
'$.ShippingInstructions.Address.province',<br>
           SHIP_TO_ZIP      VARCHAR2(8 CHAR)     path '$.ShippingInstructions.Address.zipCode',<br>
           SHIP_TO_COUNTRY  VARCHAR2(32 CHAR)    path
'$.ShippingInstructions.Address.country',<br>
           SHIP_TO_PHONE    VARCHAR2(24 CHAR)    path '$.ShippingInstructions.Phones[0].number',<br>
           INSTRUCTIONS     VARCHAR2(2048 CHAR)  path '$.SpecialInstructions',<br>
           NESTED PATH '$.LineItems[*]'<br>
           columns (<br>
             ITEMNO         NUMBER(38)           path '$.ItemNumber', <br>
             DESCRIPTION    VARCHAR2(256 CHAR)   path '$.Part.Description', <br>
             UPCCODE        VARCHAR2(14 CHAR)    path '$.Part.UPCCode', <br>
             QUANTITY       NUMBER(12,4)         path '$.Quantity', <br>
             UNITPRICE      NUMBER(14,2)         path '$.Part.UnitPrice'<br>
           )<br>
         )<br>
       )  D        <br>
/<br>
<br>
<br>
<br>
</span></p>

</div>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>The following statements show how, once the relational
views have been created, the full power of SQL can now be applied to JSON
content, without requiring any knowledge of the structure of the JSON or how to
manipulate JSON using SQL. <br>
<br>
Relational views effectively provide schema-on-query semantics; making it
possible to define multiple views of the JSON content. Application developers
are still free to evolve the content of the JSON as required. New variants of
the JSON can be stored without affecting applications that rely on the existing
views. </p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>As can be seen from the queries used, all the power of
the SQL language can be used to access the JSON data. These views allow
developers and, more importantly, tools that understand only the relational
paradigm to work with JSON content.</p>

<span class=boldbodycopy1><span style='font-size:14.0pt;font-weight:normal'><br
clear=all style='page-break-before:always'>
</span></span>

<p class=MsoNormal><span class=boldbodycopy1><i><span style='font-size:14.0pt'>&nbsp;</span></i></span></p>

<h2><a name="_Toc401003436"><span class=boldbodycopy1>Filtering result sets
using JSON_EXISTS</span></a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNoSpacing>The JSON_EXISTS operator is used in the WHERE clause of a
SQL statement. It is used to tell whether or not a JSON document matches a JSON
path expression. JSON_EXISTS takes two arguments, a JSON column and a JSON path
expression. It returns TRUE if the document contains a key that matches the
JSON path expression, FALSE otherwise. JSON_EXISTS provides a set of modifiers
that provide control over how to handle any errors encountered while evaluating
the JSON path expression. The following examples show the use of JSON_EXISTS.</p>

<p class=MsoNoSpacing style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>Open the script <b>6.0 JSON_EXISTS.sql</b>.</p>

<p class=MsoListParagraphCxSpFirst>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The first query
counts the number of JSON documents that contain a ShippingInstructions key
with an Address key that contains a state key:</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select count(*)<br>
  from J_PURCHASEORDER<br>
 where JSON_EXISTS(PO_DOCUMENT ,'$.ShippingInstructions.Address.state')<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The next three
queries show the difference between using JSON_EXISTS to test for the presence
of a key and using JSON_VALUE to check if a key is null or empty. The first
query simply shows the set of possible values for the county key in the Address
object.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'><span
class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_VALUE(PO_DOCUMENT ,'$.ShippingInstructions.Address.county') <br>
       count(*)<br>
  from J_PURCHASEORDER<br>
 group by JSON_VALUE(PO_DOCUMENT ,'$.ShippingInstructions.Address.county') <br>
/</span></span></p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>The results show that
there are two possible values for the county key; it is either NULL or  contains
the value “Oxon.”. The problem with this is that we cannot differentiate
between cases where JSON_VALUE returned NULL because the key did not exist in
the document and the cases where it returned NULL because the key contains a null
or empty value.</p>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<span class=boldbodycopy1><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
font-weight:normal'><br clear=all style='page-break-before:always'>
</span></span>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>The JSON_EXISTS operator makes it possible to differentiate
between the case where the key is not present and the case where the key has a
null or empty value. The following query shows how this is done:</span></span></p>

<p class=MsoNormal><span class=boldbodycopy1><span style='font-family:"Times New Roman","serif";
font-weight:normal'>&nbsp;</span></span></p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'><span
class=boldbodycopy1><span style='font-family:"Courier New";color:windowtext'>select
JSON_VALUE(PO_DOCUMENT ,'$.ShippingInstructions.Address.county') <br>
       count(*)<br>
  from J_PURCHASEORDER<br>
where JSON_EXISTS(PO_DOCUMENT ,'$.ShippingInstructions.Address.county')<br>
group by JSON_VALUE(PO_DOCUMENT ,'$.ShippingInstructions.Address.county') <br>
/</span></span></p>

</div>

<p class=MsoListParagraph style='margin-left:0in'><span class=boldbodycopy1><span
style='font-family:"Times New Roman","serif";font-weight:normal'>The results
show that there are 91 documents where the key is present but empty.</span></span><span
class=boldbodycopy1><span style='font-size:14.0pt;font-weight:normal'><br
clear=all style='page-break-before:always'>
</span></span></p>

<h2><a name="_Toc401003437"><span class=boldbodycopy1>Indexing JSON documents
stored in Oracle Database 12c</span></a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Oracle Database 12c includes support for indexing JSON
documents. There are two approaches to indexing JSON content. The first is to create
functional indexes based on the JSON_VALUE operator. The second is to leverage
Oracle’s full-text indexing capabilities to create an inverted list index on
the JSON documents.</p>

<h3><a name="_Toc401003438">Indexing scalar values using JSON_VALUE</a></h3>

<p class=MsoNormal>JSON_VALUE can be used to create an index on any key in a
JSON document as long as the following two conditions are met.</p>

<p class=MsoNormal>            </p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The target of the JSON path expression must be a scalar value.</p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The target of the JSON path expression must occur at most once in
each document.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>Indexes created
using JSON_VALUE can be conventional B-TREE indexes or BITMAP indexes.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>Open the script 7<b>.0 JSON_INDEXING.sql.</b></p>

<p class=MsoListParagraphCxSpFirst>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The first statement
shows how to create a unique B-Tree index on the contents of the PoNumber key.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>create unique
index PO_NUMBER_IDX<br>
    on J_PURCHASEORDER (<br>
          JSON_VALUE(<br>
             PO_DOCUMENT,'$.PONumber' returning NUMBER(10) ERROR ON ERROR<br>
          )<br>
       )<br>
/</p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>The second
statement shows how to create a BITMAP index on the contents of the CostCenter
key</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.25in'>      </p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>create bitmap
index COSTCENTER_IDX <br>
    on J_PURCHASEORDER (JSON_VALUE(PO_DOCUMENT ,'$.CostCenter'))<br>
/</p>

</div>

<p class=MsoListParagraph style='margin-left:0in'>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>The third statement
shows how to create a B-Tree index on the contents of the zipCode key</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.25in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>create index
ZIPCODE_IDX<br>
     on J_PURCHASEORDER(<br>
          JSON_VALUE(<br>
             PO_DOCUMENT ,<br>
             '$.ShippingInstructions.Address.zipCode')<br>
             returning NUMBER(5)<br>
        )<br>
/</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Note the use of the returning clause in the JSON_VALUE
operator to create a numeric index.<br>
<br>
</p>

<p class=MsoNormal>The fourth statement calculates the total cost of all items
ordered on a particular PurchaseOrder. The JSON_VALUE operator is used in the WHERE
clause to identify which document is to be processed.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select sum(QUANTITY
* UNITPRICE) TOTAL_COST<br>
  from J_PURCHASEORDER,<br>
       JSON_TABLE(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[*]'<br>
         columns( <br>
            QUANTITY       NUMBER(12,4)  path '$.Quantity', <br>
            UNITPRICE      NUMBER(14,2)  path '$.Part.UnitPrice' <br>
         )<br>
       )<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>After running the query click the explain plan icon (<img
border=0 width=12 height=12 src="JSON_HOL1_files/image009.jpg">) on the SQL
Worksheet toolbar. This will show the execution plan for the query in the
explain plan tab of the output window. The explain plan output shows that the
unique index PO_NUMBER_IDX  is used to determine which document to process.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The fifth statement returns the distinct set of requestors
for PurchaseOrders from cost center “A110”. The JSON_VALUE operator is used in
the WHERE clause to identify which document is to be processed.</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select distinct
JSON_VALUE(PO_DOCUMENT ,'$.Requestor')<br>
  from J_PURCHASEORDER<br>
 where JSON_VALUE(PO_DOCUMENT ,'$.CostCenter') = 'A110'<br>
/</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraph style='margin-left:0in'>After running the query,
click the explain plan icon (<img border=0 width=12 height=12
src="JSON_HOL1_files/image009.jpg">). This will show the execution plan for the
query in the explain plan tab of the output window. The explain plan output
shows that the bitmap index COSTCENTER_IDX is used to determine which documents
to process.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The sixth statement shows the count of orders by cost center
for orders where the shipping address zipcode is greater than 90000. The
JSON_VALUE operator is used in the WHERE clause to identify which document is
to be processed.</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select
JSON_VALUE(PO_DOCUMENT ,'$.CostCenter' returning VARCHAR2(10)),    <br>
       count(*)  <br>
  from J_PURCHASEORDER p <br>
 where JSON_VALUE(<br>
         PO_DOCUMENT ,<br>
         '$.ShippingInstructions.Address.zipCode' <br>
         returning NUMBER(5)<br>
       ) &gt; 90000<br>
 group by JSON_VALUE(PO_DOCUMENT ,'$.CostCenter' returning VARCHAR2(10))<br>
/ </p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>After running the
query click the explain plan icon (<img border=0 width=12 height=12
src="JSON_HOL1_files/image009.jpg">) on the SQL Worksheet toolbar. This will
show the execution plan for the query in the explain plan tab of the output
window. The explain plan output shows that ZIPCODE_IDX is used to determine
which documents to process.</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><b><span style='font-size:13.5pt'>&nbsp;</span></b></p>

<h3><a name="_Toc401003439">Entire-Document JSON Indexing</a></h3>

<p class=MsoListParagraph style='margin-left:.25in'>Oracle Database 12c can
also index a complete a JSON document, enabling index-backed searching of JSON
content even in cases where the search criteria are not known until runtime.
Document-level, or “Search” indexing is based on Oracle’s full-text indexing
technology. Currently the JSON search index is capable of optimizing
JSON_EXISTS operations and certain classes of JSON_VALUE operations.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoListParagraph style='text-indent:-.25in'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Open the script 8<b>.0 PO_DOCUMENT _INDEXING.sql.</b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:.25in'>The first statement creates the JSON
Search index. </p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>create index PO_DOCUMENT
_INDEX<br>
    on J_PURCHASEORDER(PO_DOCUMENT )<br>
       indextype is ctxsys.context<br>
       parameters('section group CTXSYS.JSON_SECTION_GROUP SYNC (ON COMMIT)')<br>
/</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The index is created using the predefined index preference
CTXSYS.JSON_SECTION_GROUP. This has been optimized for JSON search indexing. SYNC
(ON COMMIT) ensures that inserts and update operations are indexed at commit
time.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>The first query performs a query on the PONumber key. </p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select count(*),
sum(QUANTITY * UNITPRICE) TOTAL_COST<br>
  from J_PURCHASEORDER,<br>
       JSON_TABLE(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[*]'<br>
         columns( <br>
            QUANTITY       NUMBER(12,4)      path '$.Quantity', <br>
            UNITPRICE      NUMBER(14,2)      path '$.Part.UnitPrice' <br>
       )<br>
 where JSON_VALUE(PO_DOCUMENT ,’$.PONumber’ returning NUMBER(10)) = 1600<br>
/</p>

</div>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>After running the query click the explain plan icon (<img
border=0 width=12 height=12 src="JSON_HOL1_files/image009.jpg">) on the SQL
Worksheet toolbar. This will show the execution plan for the query in the
explain plan tab of the output window. The explain plan output shows that the
existing B-Tree index is used, in preference to the search index. Since both
indexes are capable of optimizing the query, it is worth considering whether
the B-Tree index on PONumber is still required once the search index has been
created.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:.25in'>The second query performs a query
based on the city key. </p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select count(*),
sum(QUANTITY * UNITPRICE) TOTAL_COST<br>
  from J_PURCHASEORDER,<br>
       JSON_TABLE(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[*]'<br>
         columns( <br>
            QUANTITY       NUMBER(12,4)      path '$.Quantity', <br>
            UNITPRICE      NUMBER(14,2)      path '$.Part.UnitPrice'<br>
         )<br>
       )<br>
 where        <br>
    JSON_VALUE(PO_DOCUMENT ,'$.ShippingInstructions.Address.city') = 'Seattle'<br>
/</p>

</div>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>After running the query click the explain plan icon (<img
border=0 width=12 height=12 src="JSON_HOL1_files/image009.jpg">) on the SQL
Worksheet toolbar. This will show the execution plan for the query in the
explain plan tab of the output window. The explain plan output shows that the search
index is used to resolve the query. This demonstrates the big advantage of the search
index, it is 100% schema agnostic. With the search index it is not necessary to
have prior knowledge of the JSON path expressions that will be used when
querying the JSON documents. The search index automatically indexes all
possible JSON path expressions.</p>

<p class=MsoNormal style='margin-left:.25in'> </p>

<p class=MsoNormal>The third query performs a query based on city and cost
center.</p>

<p class=MsoNormal> </p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 1.0pt 4.0pt;
background:#EEECE1;margin-left:.5in;margin-right:0in'>

<p class=CodeSample style='margin-left:0in;background:#EEECE1'>select count(*),
sum(QUANTITY * UNITPRICE) TOTAL_COST<br>
  from J_PURCHASEORDER,<br>
       JSON_TABLE(<br>
         PO_DOCUMENT ,<br>
         '$.LineItems[*]'<br>
         columns( <br>
            QUANTITY       NUMBER(12,4)                 path '$.Quantity', <br>
            UNITPRICE      NUMBER(14,2)                 path '$.Part.UnitPrice'
<br>
         )<br>
       )<br>
 where <br>
    JSON_VALUE(PO_DOCUMENT ,'$.ShippingInstructions.Address.city') = 'Seattle'<br>
   and <br>
    JSON_VALUE(PO_DOCUMENT ,'$.CostCenter') = 'A90'<br>
/ </p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in'>After running the
query click the explain plan icon (<img border=0 width=12 height=12
id="Picture 10" src="JSON_HOL1_files/image009.jpg">) on the SQL Worksheet
toolbar. This will show the execution plan for the query in the explain plan
tab of the output window. The explain plan output shows that both the search
index and the bitmap index on cost center are used to resolve the query.</p>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;font-family:"Arial","sans-serif"'>&nbsp;</span></i></b></p>

<h2><a name="_Toc401003440">Conclusion</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>This lab provides an
introduction to using Oracle Database 12c to store, query and index JSON
documents. On successful completion of this lab you should be able to</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Understand the basics of the JSON data model</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Understand the basics of the JSON path language</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Create a table which can store well-formed JSON documents</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Extract scalar values from JSON documents, using the JSON_VALUE
operator</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Extract objects and arrays from JSON documents, using the
JSON_QUERY operator</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Test whether or not a JSON document contains a particular key
using the JSON_EXISTS operator</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Expose JSON content in a relational manner using the JSON_TABLE
operator</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Index the content of specific JSON keys using functional indexes</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Index JSON Documents using the JSON search index.</p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
